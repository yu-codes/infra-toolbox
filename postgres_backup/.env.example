# ============================================
# PostgreSQL 備份服務配置
# ============================================

# --- PostgreSQL 連接配置 ---
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=your_password
POSTGRES_DATABASE=your_database

# --- 備份配置 ---
# 備份目錄 (容器內路徑)
BACKUP_DIR=/backups

# 保留天數
FULL_BACKUP_RETENTION_DAYS=30
INCREMENTAL_BACKUP_RETENTION_DAYS=7
REMOTE_BACKUP_RETENTION_DAYS=90

# --- 備份機制開關 (可選) ---
# 完全備份 (每週)
BACKUP_FULL_ENABLED=true
# 增量備份 (每日)
BACKUP_INCREMENTAL_ENABLED=true
# 異地備份 (每月)
BACKUP_REMOTE_ENABLED=false

# --- 壓縮與加密配置 ---
# 壓縮: gzip (DEFLATE 無損壓縮)
BACKUP_COMPRESSION_ENABLED=true

# 加密: openssl AES-256-CBC
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_ENCRYPTION_PASSWORD=your_secure_encryption_password

# --- 異地備份配置 (SSH/SCP) ---
REMOTE_BACKUP_HOST=
REMOTE_BACKUP_PORT=22
REMOTE_BACKUP_USER=
REMOTE_BACKUP_PATH=/remote/backup/path
# SSH 私鑰路徑 (容器內)
REMOTE_BACKUP_SSH_KEY=/scripts/ssh/id_rsa

# ============================================
# 還原服務配置
# ============================================

# --- 還原來源配置 ---
# 要還原的備份檔案路徑 (容器內路徑)
RESTORE_BACKUP_FILE=

# --- 還原目標配置 ---
# 可覆蓋備份配置中的連接資訊
RESTORE_POSTGRES_HOST=
RESTORE_POSTGRES_PORT=
RESTORE_POSTGRES_USERNAME=
RESTORE_POSTGRES_PASSWORD=
RESTORE_POSTGRES_DATABASE=

# --- 還原選項 ---
# 是否在還原前清空目標資料庫
RESTORE_DROP_DATABASE=false
# 是否在還原前建立資料庫 (若不存在)
RESTORE_CREATE_DATABASE=true
